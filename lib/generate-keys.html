<script type="text/javascript">
    RED.nodes.registerType('generate-keys', {
        category: 'EJBCA',
        color: "rgb(204, 204, 51)",
        defaults: {
            name: { value: "" },
            bitLength: { value: "2048" },
        },
        inputs: 1,
        outputs: 1,
        icon: "icons/0-key-solid.svg",
        label: function () {
            return this.name || "generate-keys";
        },
    });
</script>

<script type="text/javascript">
    RED.nodes.registerType('generate-keys');
</script>

<script type="text/html" data-help-name="generate-keys">
    <p>A node that generates a private and public keypair.</p>
    <p>The result is stored in msg.ejbca.privateKey and msg.ejbca.publicKey.</p>
</script>

<style>
    /* Custom styles for the node appearance in the Node-RED editor */
    .node-config-input-key {
        display: none;
    }
</style>

<!-- Content of the configuration dialog -->
<script type="text/html" data-template-name="generate-keys">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-bitLength"><i class="fa fa-key"></i> RSA Bit Length</label>
        <select id="node-input-bitLength">
            <option value="2048">2048</option>
            <option value="3072">3072</option>
            <option value="4096">4096</option>
            <option value="6144">6144</option>
            <option value="8192">8192</option>
        </select>
    </div>
</script>
